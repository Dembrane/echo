# Dembrane ECHO

[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/astral-sh/ruff/main/assets/badge/v2.json)](https://github.com/astral-sh/ruff)

- formerly called `dembrane/pdf-pilot`

## Architecture

![Architecture](/developer-docs/diagrams/architecture20240917.png)

## Deployment

- Use the `./deploy.sh` script to deploy

## Run locally (Development with Devcontainers in VSCode)

- Have docker installed (https://docs.docker.com/engine/install/)
- Add your env keys to `server/.env`
  ```
  cd server
  cp .env.sample .env
  ```
- In VSCode, open the command palette(CMD+Shift+P) and "Reopen in Container". It takes 10-15 mins the first time around.
- Run setup `./setup.sh`
- Install the "Restore Terminals" extension in VSCode
- In VSCode, open the command palette(CMD+Shift+P) and "Restore Terminals"

## API reference

OpenAPI docs are auto-generated by FastAPI.

- [http://localhost:8000/docs](http://localhost:8000/docs)
- [https://api.test.dembrane.com/docs](https://api.test.dembrane.com/docs)

## Map of Documents

Links are relative to the root of the repository with .cursor/rules

- [docs/database_commands.md](/docs/database_commands.md): Useful commands for database snapshots, restoration, and Directus migrations.
- [docs/database_migrations.md](/docs/database_migrations.md): Guide for managing database schema using Directus schema migrations.
- [docs/database_useful_queries.md](/docs/database_useful_queries.md): Collection of helpful database queries for common tasks.

- [docs/directus_initialization.md](/docs/directus_initialization.md): Steps for initializing Directus, including schema application and data migration.

- [docs/frontend_configuration.md](/docs/frontend_configuration.md): Configuration details for the frontend environment variables.
- [docs/frontend_state_management.md](/docs/frontend_state_management.md): Overview of state management strategies in the frontend.
- [docs/frontend_translations.md](/docs/frontend_translations.md): Information about handling translations in the frontend.

- [docs/server_adding_dependencies.md](/docs/server_adding_dependencies.md): Instructions for adding new dependencies to the server.
- [docs/server_configuration.md](/docs/server_configuration.md): Guide for configuring server environment variables.
- [docs/server_readme.md](/docs/server_readme.md): General information and setup instructions for the server component.
